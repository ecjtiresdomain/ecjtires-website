---
interface Props {
  title?: string;
  subtitle?: string;
  description?: string;
  showCTA?: boolean;
  backgroundImage?: string;
  compact?: boolean;
}

const {
  title = 'ECJ Tire Supply',
  subtitle = 'Premium Tires & Expert Service',
  description = 'Your trusted tire experts in Antipolo, Philippines. From tires and mags to alignment, balancing, and full car care services.',
  showCTA = true,
  backgroundImage,
  compact = false,
} = Astro.props;

const hasBackground = backgroundImage && backgroundImage !== '/placeholder.jpg';
---

<section class:list={[
  'relative overflow-hidden',
  compact ? 'py-16 md:py-24' : 'min-h-[70vh] flex items-center',
]}>
  <!-- Background Image or Gradient -->
  {hasBackground ? (
    <div class="absolute inset-0">
      <img
        src={backgroundImage}
        alt=""
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-dark-100/80 backdrop-blur-[2px]"></div>
    </div>
  ) : (
    <div class="absolute inset-0 bg-gradient-to-b from-dark-100 via-dark-200 to-dark-100"></div>
  )}

  <div class="container mx-auto px-4 relative z-10">
    <div class:list={[
      'max-w-4xl',
      compact ? 'text-center mx-auto' : 'mx-auto text-center',
    ]}>
      {!compact && (
        <div class="section-badge justify-center mx-auto animate-slide-up">
          <span class="w-2 h-2 bg-primary rounded-full"></span>
          <span>Trusted Tire Experts in Antipolo</span>
        </div>
      )}

      <h1 class:list={[
        'font-bold tracking-tight leading-tight animate-slide-up drop-shadow-lg',
        compact ? 'text-3xl md:text-4xl' : 'text-4xl md:text-5xl lg:text-6xl',
      ]} style="animation-delay: 0.1s; text-shadow: 0 2px 10px rgba(0,0,0,0.5);">
        <span class="text-white">{title}</span>
      </h1>

      {subtitle && (
        <p class:list={[
          'font-medium text-primary animate-slide-up drop-shadow-md',
          compact ? 'text-lg mt-3' : 'text-xl md:text-2xl mt-4',
        ]} style="animation-delay: 0.2s; text-shadow: 0 2px 8px rgba(0,0,0,0.4);">
          {subtitle}
        </p>
      )}

      {description && !compact && (
        <p class="text-gray-300 text-lg max-w-2xl mx-auto mt-6 animate-slide-up drop-shadow-md" style="animation-delay: 0.3s; text-shadow: 0 1px 6px rgba(0,0,0,0.4);">
          {description}
        </p>
      )}

      {showCTA && !compact && (
        <div class="flex flex-col sm:flex-row gap-4 mt-10 justify-center animate-slide-up" style="animation-delay: 0.4s;">
          <a href="/book/" class="btn btn-primary text-base px-8 py-3">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            Book Appointment
          </a>
          <a href="/services/" class="btn btn-secondary text-base px-8 py-3">
            View Services
          </a>
        </div>
      )}
    </div>
  </div>

  {!compact && (
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
      <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
      </svg>
    </div>
  )}
</section>
